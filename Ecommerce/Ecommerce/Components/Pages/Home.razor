@page "/"
@rendermode InteractiveServer
@inject PersistentComponentState ApplicationState
@inject SidebarService SidebarService 
@inject IJSRuntime JSRuntime 
<PageTitle>Home</PageTitle>
<h3 class="font-extrabold text-5xl">Hello</h3>
<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>
<p role="status">Current count: @currentCount</p>
<h1>Hello, world!</h1> 
<NavLink href="/Counter">Counter</NavLink>
<h1>@fecha.ToString()</h1>
Welcome to your new app.
@* <h1>StateContainer @StateContainer.Property</h1> *@
@code {
    DateTime fecha = DateTime.Now;
    protected override void OnInitialized()
    {
        SidebarService.OnSidebarStateChanged += StateHasChanged;
        // StateContainer.OnChange += StateHasChanged;
        fecha = DateTime.Now;
        StateHasChanged();
    }
    protected override async Task OnInitializedAsync()
    {
        
    }
    private int currentCount = 0;

    private void IncrementCount()
    {
        currentCount++;
    }
    public void Dispose()
    {
        SidebarService.OnSidebarStateChanged -= StateHasChanged;
        // StateContainer.OnChange -= StateHasChanged;
    }
}